CREATE TABLE users(
	timestamp varchar(255) NOT NULL,
    u_id varchar(255) NOT NULL,
    nickname varchar(255) NOT NULL,
    phone int(10) NOT NULL,
    rank varchar(255) DEFAULT 'unrank' NOT NULL,
    member boolean DEFAULT FALSE NOT NULL,
    picture_url varchar(255) NOT NULL,
    social_id varchar(255) NOT NULL,
    social_from varchar(255) NOT NULL,
    PRIMARY KEY (u_id)
);


CREATE TABLE queue(
    timestamp varchar(255) NOT NULL,
    q_id varchar(255) NOT NULL,
    u_id varchar(255) NOT NULL,
    type_of_car varchar(255) NOT NULL,
    nickname varchar(255) NOT NULL,
    phone varchar(10) NOT NULL,
    status varchar(255) NOT NULL,
    PRIMARY KEY (q_id)
);

CREATE TABLE booking (
	timestamp varchar(255) NOT NULL,
    q_id varchar(255) NOT NULL,
    u_id varchar(255) NOT NULL,
    datetime_booking int(11) NOT NULL,
    PRIMARY KEY (u_id)
);

CREATE TABLE events(
	timestamp varchar(255) NOT NULL,
    e_id varchar(255) NOT NULL,
    type varchar(255) NOT NULL,
    table_of varchar(255) NOT NULL,
    id varchar(255) NOT NULL,
    PRIMARY KEY (e_id)
);

CREATE TABLE service(
	timestamp int(25) NOT NULL,
    q_id varchar(255) NOT NULL,
    s_id varchar(255) NOT NULL
);

CREATE TABLE service_info(
	s_id varchar(255) NOT NULL,
    detail varchar(255) NOT NULL,
    sub_detail varchar(255) NOT NULL,
    price int(11) NOT NULL,
    picture_url varchar(255) NOT NULL,
    PRIMARY KEY (s_id)
);

CREATE VIEW queueToDay2 AS
SELECT * FROM queue
WHERE timestamp > UNIX_TIMESTAMP(CURRENT_DATE())*1000
ORDER BY CASE 
		 WHEN status = 'thankyou' then 1
         WHEN status = 'complete' then 2
         WHEN status = 'working' then 3
         WHEN status = 'waiting' then 4
         WHEN status = 'booking' then 5
         END ASC, timestamp ASC;

          	1658985935939